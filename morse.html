<!DOCTYPE html>
<html lang="en" >

<head>

<style type="text/css">
body {background-color:#0b6b3a;}
h1 { font-family: "Share Tech Mono", sans-serif; font-size:300%; padding-left: 5%; padding-bottom: 0%; }
img {  max-width: 66%; max-height: 50%; display: block;  margin-left: auto; margin-right: auto  }
h2 { font-family: "Share Tech Mono", sans-serif;  padding-left: 5%; padding-bottom: 0%; padding-top: 0%; }
h3 {font-family: "Share Tech Mono", sans-serif; font-size:100%; padding-left: 5%; padding-right: 5%; position: absolute; bottom: 0; left: 0;}
h4 {font-family: "Share Tech Mono", sans-serif;  padding-left: 40%; position: absolute; bottom: 0; text-align:center;}

</style>

<link href='http://fonts.googleapis.com/css?family=Share+Tech+Mono' rel='stylesheet' type='text/css'>

	<title>Morse Search</title> 

	<!-- Include JQueary here / other framework if needed -->


</head>

<body id="element">

	<h1 >MorseSearch</h1>
	<h3> Instructions: To enter a dot, click your mouse and imediately release it. To enter a dash, hold down the mouse for three times the length of a dot. Do not pause between each dot or dash in a letter. DO pause between each letter. A space is entered by holding down the mouse for 2 seconds. The search is submitted by holding down the mouse for 5 seconds. Coppyright 2013 <a href="http://josephpmay.com">Solwin Labs</a>. All rights reserved. Fork me on <a href="https://github.com/josephpmay/Morse">Github</a>.</h3>
	<h4> </h4>
	<h2> Search the web using morse code</h2> 
	<h2 id="status">Click for dot, click & hold for dash</h2>
	<h2 id="letter"> ......................</h2> 
	<h2> </h2>
	<img src="key.jpg" alt="this is a Morse Code key">

	<script language="javascript" type="text/javascript" >
		<!-- Hide Javascript Code



		//program currently is not object oriented. The structure did not necessitate it being object oriented




		(function () {
		    var element = document.getElementById('element'), //'element' not currently used, because changed to window.onmouse...
		    status = document.getElementById('status'), //element for displaying if clicked up or down
		    letter = document.getElementById('letter'),
		        start, end, betweenStart, betweenEnd;

		    var dotholder = []; //creates an array that is used to store each dot or dash. The array will be cleared when 
		    var letterholder = []; //creates an array that is used to store each letter

		    window.onmousedown = function () {
		      start = +new Date();  // get unix-timestamp in milliseconds
		/*      betweenEnd = +new Date(); //end of mouse up timer
		      if(betweenStart != undefined) //measures the amount of time that has elapsed between clicks, if there was a previous click
		     	 var betweenDiff = betweenEnd - betweenStart;
		      if(betweenDiff>=800)
		      	{var text = 'new letter';
		      	dotholder.push('next_letter');
		      	 status.innerHTML = text; 
		      	letterholder.push(switchLetters());
		      	letter.innerHTML = letterholder;
		      	dotholder = [];
		      	}	*/

//if a (search) key is entered, first have last letter translated


		    };

		    //this function 
		    function switchLetters() {

		    	//Switch Statement that will be written in comments for right now: 
		      	// /*
				
				switch(dotholder[0]) //first letter
				{
					case('dot'): 
					{
						switch(dotholder[1])
						{
							case('dot'):
							{
								switch(dotholder[2]) 
								{
									case('dot'):
									{
										switch(dotholder[3]) 
										{
											case('dot'):
											{
												switch(dotholder[4]) 
												{
													case('dot'):
													{
														return "5";
													}

													case('dash'):
													{
														return "4";
													}
													case('next_letter'):
													{
														return 'H';
													}
												}
											}

											case('dash'):
											{
												switch(dotholder[4]) 
												{
													case('dot'):
													{

													}

													case('dash'):
													{
														return '3'
													}
													case('next_letter'):
													{
														return 'V';
													}
												}
											}
											case('next_letter'):
											{
											return 'S';
											}
										}
									}

									case('dash'):
									{
										switch(dotholder[3]) 
										{
											case('dot'):
											{
												switch(dotholder[4]) 
												{
													case('dot'):
													{

													}

													case('dash'):
													{

													}
													case('next_letter'):
													{
													return 'F';
													}
												}
											}

											case('dash'):
											{	
												switch(dotholder[4]) 
												{
													case('dot'):
													{

													}

													case('dash'):
													{

													}
													case('next_letter'):
													{
													return ' ';
													}
												}
											}
											case('next_letter'):
											{
											return 'U';
											}
										}
									}
									case('next_letter'):
									{
									return 'I';
									}
								}
							}

							case('dash'):
							{
								switch(dotholder[2]) 
								{
									case('dot'):
									{
										switch(dotholder[3]) 
										{
											case('dot'):
											{
												switch(dotholder[4]) 
												{
													case('dot'):
													{

													}

													case('dash'):
													{

													}
													case('next_letter'):
													{
													return 'L';
													}
												}
											}

											case('dash'):
											{
												switch(dotholder[4]) 
												{
													case('dot'):
													{

													}

													case('dash'):
													{

													}
													case('next_letter'):
													{
													return ' ';
													}
												}
											}
											case('next_letter'):
											{
											return 'R';
											}
										}
									}

									case('dash'):
									{
										switch(dotholder[3]) 
										{
											case('dot'):
											{
												switch(dotholder[4]) 
												{
													case('dot'):
													{

													}

													case('dash'):
													{

													}
													case('next_letter'):
													{
													return 'P';
													}
												}
											}

											case('dash'):
											{
												switch(dotholder[4]) 
												{
													case('dot'):
													{

													}

													case('dash'):
													{

													}
													case('next_letter'):
													{
													return 'J';
													}
												}
											}
											case('next_letter'):
											{
											return 'W';
											}
										}
									}
									case('next_letter'):
									{
										return 'A';
									}
								}
							}
							case('next_letter'):
							{
								return 'E';	
							}
						}

					}
	
					case('dash'):
					{
						switch(dotholder[1]) 
						{
							case('dot'):
							{
								switch(dotholder[2]) 
								{
									case('dot'):
									{
										switch(dotholder[3]) 
										{
											case('dot'):
											{
												switch(dotholder[4]) 
												{
													case('dot'):
													{

													}

													case('dash'):
													{

													}
													case('next_letter'):
													{
													return 'B';
													}
												}
											}

											case('dash'):
											{
												switch(dotholder[4]) 
												{
													case('dot'):
													{

													}

													case('dash'):
													{

													}
													case('next_letter'):
													{
													return 'X';
													}
												}
											}
											case('next_letter'):
											{
											return 'D';
											}
										}
									}

									case('dash'):
									{
										switch(dotholder[3]) 
										{
											case('dot'):
											{
												switch(dotholder[4]) 
												{
													case('dot'):
													{

													}

													case('dash'):
													{

													}
													case('next_letter'):
													{
													return 'C';
													}
												}
											}

											case('dash'):
											{
												switch(dotholder[4]) 
												{
													case('dot'):
													{

													}

													case('dash'):
													{

													}
													case('next_letter'):
													{
													return 'Y';
													}
												}
											}
											case('next_letter'):
											{
											return 'K';
											}
										}
									}
									case('next_letter'):
									{
										return 'N';
									}
								}
							}

							case('dash'):
							{
								switch(dotholder[2])  
								{
									case('dot'):
									{
										switch(dotholder[3]) 
										{
											case('dot'):
											{
												switch(dotholder[4]) 
												{
													case('dot'):
													{

													}

													case('dash'):
													{

													}
													case('next_letter'):
													{
													return 'Z';
													}
												}
											}

											case('dash'):
											{
												switch(dotholder[4]) 
												{
													case('dot'):
													{

													}

													case('dash'):
													{

													}
													case('next_letter'):
													{
													return 'Q';
													}
												}
											}
											case('next_letter'):
											{
											return 'G';
											}
										}
									}

									case('dash'):
									{
										switch(dotholder[3]) 
										{
											case('dot'):
											{
												switch(dotholder[4]) 
												{
													case('dot'):
													{

													}

													case('dash'):
													{

													}
													case('next_letter'):
													{
													return ' ';
													}
												}
											}

											case('dash'):
											{
												switch(dotholder[4]) 
												{
													case('dot'):
													{

													}

													case('dash'):
													{

													}
													case('next_letter'):
													{
													return ' ';
													}
												}
											}
											case('next_letter'):
											{
											return 'O';
											}
										}
									}
									case('next_letter'):
									{
										return 'M';
									}
								}
							}
							case('next_letter'):
							{
								return 'T';
							}
						}
					}

					case('next_letter'):
					{
						//return 'error';
					}

				}



				
		    }


		    window.onmouseup = function () {
		      end = +new Date();

		      //get mouse timer when mouse is down, and chck that against NEXT click in order to see if should be new letter
		      //when time up is greater >, converts dots in array to letter, adds letter to letterholder array, and clears dotholder array

		      var diff = end - start; // time difference in milliseconds
		      
		      var text;


		      		//Depending on the length of the click, either adds a dot to the array, adds a dash to the array or something for spaces
		      if (diff<200)
		      	{
		      	text = 'dot'; 
		      	dotholder.push('dot');

		      	 	var storedEnd = end;
		      	setTimeout(function() {

		      		if (storedEnd> start)
		      			{var text = 'new letter';
		      			dotholder.push('next_letter');
		      	 		if (text == undefined)
		      				status.innerHTML = "space";
		     			else
		      				status.innerHTML = text;
		      			letterholder.push(switchLetters());
		      			letter.innerHTML = letterholder.join('');
		      			dotholder = [];
		      		}

		      	}, 800);
		      }
		      else if (diff>=200 && diff<1000)
		      	{
		      	text = 'dash'; 
		        dotholder.push('dash');

		         	var storedEnd = end;
		      	setTimeout(function() {

		      		if (storedEnd> start)
		      			{var text = 'new letter';
		      			dotholder.push('next_letter');
		      	 		if (text == undefined)
		      				status.innerHTML = "space";
		     			else
		      				status.innerHTML = text;
		      			letterholder.push(switchLetters());
		      			letter.innerHTML = letterholder.join('');
		      			dotholder = [];
		      		}

		      	}, 800);
		   	  }
		      else if (diff>=1000 && diff<5000) //do shit to end letter and then...
		      	//text = 'space';
		      {
		      	dotholder.push('next_letter');
		      	if (text == undefined)
		      		status.innerHTML = "space";
		      	else
		      		status.innerHTML = text;
		      	letterholder.push(' ');
		      	letter.innerHTML = letterholder.join('');
		      	dotholder = [];
		      }
		      else if (diff>=5000)
		      {

		      	window.location = ("https://www.google.com/#q=" + letterholder.join(''));
		      	text = 'googling...';
		      }

		      if (text == undefined)
		      	status.innerHTML = "space";
		      else
		      	status.innerHTML = text;

		      	//store old mouse up
		      	//WAIT (amount of time), if mousedown is less than stored mouse up time, convert to and display letter
		     

				betweenStart = +new Date(); //start of mouse up timer
				};


			//window.onmouseup = function () {
			//	betweenStart = +new Date();
			//}

})();





		-->

	</script>

	<noscript>
		<h1>Javascript is required to view this webpage</h1>
	</noscript>

	</body>